<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
	<meta charset="utf-8"/>
	<title>Utilisateurs</title>
	<link rel="stylesheet" href="../../css/bootstrap.min.css" >
</head>
<body>
<div class="container">

	<div class="row">
		<h2>Mettre à jour l’utilisateur</h2>
	</div>

	<div class="row">
		<form action="#" th:action="@{/user/update/{id}(id=${user.id})}" th:object="${user}" method="post" class="form-horizontal" style="width: 100%">
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
			<div class="form-group">
				<label for="fullname" class="col-sm-2 control-label">Nom complet</label>
				<div class="col-sm-10">
					<input type="text" th:field="*{fullname}" id="fullname" placeholder="Nom complet" class="col-4">
					<p class="text-danger" th:if="${#fields.hasErrors('fullname')}" th:errors="*{fullname}"></p>
				</div>
			</div>
			<div class="form-group">
				<label for="username" class="col-sm-2 control-label">Nom d'utilisateur</label>
				<div class="col-sm-10">
					<input type="text" th:field="*{username}" id="username" placeholder="Nom d'utilisateur" class="col-4">
					<p class="text-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></p>
				</div>
			</div>
			<div class="form-group">
				<label for="password" class="col-sm-2 control-label">Mot de passe</label>
				<div class="col-sm-10">
					<input type="password" th:field="*{password}" id="password" placeholder="Laissez vide pour conserver le mot de passe actuel" class="col-4" autocomplete="new-password" aria-describedby="passwordHelp">
					<small id="passwordHelp" class="text-muted d-block">Laissez vide pour conserver le mot de passe actuel.</small>
					<p class="text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></p>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label">Rôle</label>
				<div class="col-sm-10">
					<input type="radio" id="roleAdminUpd" th:field="*{role}" th:value="ADMIN">
					<label for="roleAdminUpd" class="checkbox-inline">Administrateur</label>
					<input type="radio" id="roleUserUpd" th:field="*{role}" th:value="USER">
					<label for="roleUserUpd" class="checkbox-inline">Utilisateur</label>
					<p class="text-danger" th:if="${#fields.hasErrors('role')}" th:errors="*{role}"></p>
				</div>
			</div>



			<div class="form-group">
				<div class="col-sm-12">
					<input type="hidden" th:field="*{id}">
					<a class="btn btn-danger btn-sm" href="/user/list">Annuler</a>
					<input class="btn btn-primary btn-sm" type="submit" value="Mettre à jour l’utilisateur">
				</div>
			</div>

		</form>
	</div>

	<form th:action="@{/user/delete/{id}(id=${user.id})}" method="post" class="mt-2">
		<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
		<button type="submit" class="btn btn-link p-0 align-baseline">Supprimer</button>
	</form>
</div>
</body>
</html>